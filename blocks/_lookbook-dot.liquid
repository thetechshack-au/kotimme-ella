{% liquid
  assign block_stts = block.settings
  assign dot_inner_color = block_stts.dot_inner_color
  assign dot_outer_color = block_stts.dot_outer_color
  assign dot_size_desktop = block_stts.dot_size_desktop | append: 'px'
  assign dot_size_mobile = block_stts.dot_size_mobile | append: 'px'
  assign dot_position_top = block_stts.dot_position_top | append: '%'
  assign dot_position_left = block_stts.dot_position_left | append: '%'

  assign card_product = block_stts.product
  assign card_product_option = block_stts.card_product_option
  assign show_product_image = block_stts.show_product_image
  assign show_product_title = block_stts.show_product_title
  assign show_product_price = block_stts.show_product_price
  assign show_product_variant = block_stts.show_product_variant
  assign show_product_button = block_stts.show_product_button
%}

<lookbook-dot class="lookbook-dot lookbook-dot--showProducts" style="--dot-inner-color: {{ dot_inner_color }}; --dot-outer-color: {{ dot_outer_color }}; --dot-size-desktop: {{ dot_size_desktop }}; --dot-size-mobile: {{ dot_size_mobile }}; --dot-position-top: {{ dot_position_top }}; --dot-position-left: {{ dot_position_left }};" {{ block.shopify_attributes }}>
  <div class="lookbook-dot__icon" data-product-lookbook>
    <span class="svg-wrapper icon-plus-wrapper">
      {{- 'icon-plus.svg' | inline_asset_content -}}
    </span>

    <div class="lookbook-dot__content hidden">
      {% render 'card-lookbook',
        card_product: card_product,
        show_product_image: show_product_image,
        show_product_title: show_product_title,
        show_product_price: show_product_price,
        show_product_variant: show_product_variant,
        show_product_button: show_product_button,
        option: card_product_option
      %}
    </div>
  </div>
</lookbook-dot>

{% schema %}
  {
    "name": "t:names.lookbook_dot",
    "tag": null,
    "settings": [
      {
        "type": "header",
        "content": "t:content.dot"
      },
      {
        "type": "color",
        "id": "dot_inner_color",
        "label": "t:settings.inner_color",
        "alpha": true,
        "default": "#ffffff"
      },
      {
        "type": "color",
        "id": "dot_outer_color",
        "label": "t:settings.outer_color",
        "alpha": true,
        "default": "#2d2d2d"
      },
      {
        "type": "range",
        "id": "dot_size_desktop",
        "label": "t:settings.desktop_size",
        "default": 12,
        "min": 1,
        "max": 100,
        "step": 1
      },
      {
        "type": "range",
        "id": "dot_size_mobile",
        "label": "t:settings.mobile_size",
        "default": 8,
        "min": 1,
        "max": 100,
        "step": 1
      },
      {
        "type": "range",
        "id": "dot_position_top",
        "label": "t:settings.position_top",
        "default": 0,
        "min": 0,
        "max": 100,
        "step": 1
      },
      {
        "type": "range",
        "id": "dot_position_left",
        "label": "t:settings.position_left",
        "default": 0,
        "min": 0,
        "max": 100,
        "step": 1
      },
      {
        "type": "header",
        "content": "t:content.product"
      },
      {
        "type": "product",
        "id": "product",
        "label": "t:settings.product"
      },
      {
        "type": "select",
        "id": "card_product_option",
        "label": "t:settings.card_product_option",
        "options": [
          {
            "value": "vertical",
            "label": "t:options.vertical"
          },
          {
            "value": "horizontal",
            "label": "t:options.horizontal"
          }
        ],
        "default": "horizontal"
      },
      {
        "type": "checkbox",
        "id": "show_product_image",
        "label": "t:settings.show_product_image",
        "default": false
      },
      {
        "type": "checkbox",
        "id": "show_product_title",
        "label": "t:settings.show_product_title",
        "default": true
      },
      {
        "type": "checkbox",
        "id": "show_product_price",
        "label": "t:settings.show_product_price",
        "default": true
      },
      {
        "type": "checkbox",
        "id": "show_product_variant",
        "label": "t:settings.show_product_variant",
        "default": false
      },
      {
        "type": "checkbox",
        "id": "show_product_button",
        "label": "t:settings.show_product_button",
        "default": false
      },
      {
        "type": "select",
        "id": "quick_add",
        "default": "none",
        "label": "t:settings.quick_add",
        "info": "t:info.quick_add_info",
        "options": [
          {
            "value": "none",
            "label": "t:options.none"
          },
          {
            "value": "standard",
            "label": "t:options.standard"
          },
          {
            "value": "bulk",
            "label": "t:options.bulk"
          }
        ]
      }
    ],
    "presets": [
      {
        "name": "t:names.lookbook_dot"
      }
    ]
  }
{% endschema %}