{% liquid
  if block.settings.link != blank
    # Extract domain from URL
    assign platform = block.settings.link | split: '//' | last | remove: 'www.' | split: '.' | first
  endif
%}

<div
  class="social-icons__icon-wrapper"
  {{ block.shopify_attributes }}
>
  <a
    href="{{ block.settings.link }}"
    target="_blank"
    rel="noopener noreferrer"
  >
    <span class="social-icons__icon-label">{{ platform | capitalize }}</span>
    <svg
      class="social-icons__icon"
      aria-hidden="true"
      focusable="false"
      xmlns="http://www.w3.org/2000/svg"
      viewBox="0 0 20 20"
    >
      {%- render 'icon', icon: platform -%}
    </svg>
  </a>
</div>

{% schema %}
{
  "name": "t:names.social_link",
  "tag": null,
  "settings": [
    {
      "type": "url",
      "id": "link",
      "label": "t:settings.link",
      "info": "Example: https://www.facebook.com"
    }
  ],
  "presets": [
    {
      "name": "t:names.social_link",
      "category": "t:categories.footer"
    }
  ]
}
{% endschema %}
