{%- liquid
  comment
    Intended for blocks and sections that provide values for all the referenced settings.

    Accepts:
      settings: {block.settings || section.settings}
  endcomment

  assign content_direction = custom_content_direction | default: settings.content_direction
  assign content_direction_tablet = custom_content_direction_tablet | default: settings.content_direction_tablet
  assign content_direction_mobile = custom_content_direction_mobile | default: settings.content_direction_mobile
  assign horizontal_alignment = settings.horizontal_alignment

  assign vertical_alignment = settings.vertical_alignment
  if settings.align_baseline and vertical_alignment == 'flex-end'
    assign vertical_alignment = 'last baseline'
  endif

  unless content_direction == 'row'
    assign horizontal_alignment = settings.horizontal_alignment_flex_direction_column | default: settings.horizontal_alignment
    assign vertical_alignment = settings.vertical_alignment_flex_direction_column | default: settings.vertical_alignment
  endunless

  assign horizontal_alignment_tablet = settings.horizontal_alignment_tablet
  assign vertical_alignment_tablet = settings.vertical_alignment_tablet

  unless content_direction_tablet == 'row'
    assign horizontal_alignment_tablet = settings.horizontal_alignment_flex_direction_column_tablet
    assign vertical_alignment_tablet = settings.vertical_alignment_flex_direction_column_tablet
  endunless

  assign horizontal_alignment_mobile = settings.horizontal_alignment_mobile
  assign vertical_alignment_mobile = settings.vertical_alignment_mobile

  unless content_direction_mobile == 'row'
    assign horizontal_alignment_mobile = settings.horizontal_alignment_flex_direction_column_mobile
    assign vertical_alignment_mobile = settings.vertical_alignment_flex_direction_column_mobile
  endunless

  if horizontal_alignment_mobile == blank
    assign horizontal_alignment_mobile = horizontal_alignment
  endif

  if vertical_alignment_mobile == blank
    assign vertical_alignment_mobile = vertical_alignment
  endif
-%}

--flex-direction: {{ content_direction | default: 'column' }};
--flex-wrap: {{ settings.wrap | default: 'nowrap' }};
{%- if settings.wrap_tablet -%}
  --flex-wrap-tablet: {{ settings.wrap_tablet }};
{%- endif -%}

--flex-direction-mobile: {{ settings.content_direction_mobile | default: 'column' }};
{%- render 'gap-style', value: settings.gap, scale_min: scale_min -%}
--horizontal-alignment: {{ horizontal_alignment | default: 'flex-start' }};
{%- if horizontal_alignment_tablet != blank -%}
  --horizontal-alignment-tablet: {{ horizontal_alignment_tablet | default: 'flex-start' }};
{%- endif -%}
{%- if horizontal_alignment_mobile != blank -%}
  --horizontal-alignment-mobile: {{ horizontal_alignment_mobile | default: 'flex-start' }};
{%- endif -%}
--vertical-alignment: {{ vertical_alignment | default: 'flex-start' }};
{%- if vertical_alignment_tablet != blank -%}
  --vertical-alignment-tablet: {{ vertical_alignment_tablet | default: 'flex-start' }};
{%- endif -%}
{%- if vertical_alignment_mobile != blank -%}
  --vertical-alignment-mobile: {{ vertical_alignment_mobile | default: 'flex-start' }};
{%- endif -%}