{%- doc -%}
  This snippet is used to render a collection card.
  To be used inside a block to inherit the block object settings.

  @param {string} card_image - The image to display in the collection card
  @param {string} children - The content to render inside the collection card
  @param {object} collection - The collection to render the card for
  @param {object} block - The block object
  @param {object} section - The section object

  @example
  {% render 'collection-card',
    card_image: card_image,
    children: children,
    block: block,
    collection: collection,
    section: section
  %}
{%- enddoc -%}

{% liquid
  assign onboarding = false
  assign block_settings = block.settings

  if collection == blank
    assign onboarding = true
  endif
%}

<div
  class="
    collection-card
    spacing-style
    border-style
    {% if block_settings.placement == 'on_image' %}collection-card--image-bg{% endif %}
    {% if section.settings.layout_type == 'bento' %}collection-card--image-height-fixed{% endif %}
    {% if section.settings.layout_type == 'editorial' %}collection-card--flexible-aspect-ratio{% endif %}
    {% if block_settings.inherit_color_scheme == false %} color-scheme-custom{% endif %}
  "
  data-block-id="{{ block.id }}"
  style="
    {% render 'spacing-style', settings: block_settings %}
    {% render 'border-override', settings: block_settings %}
    {% if block_settings.inherit_color_scheme == false %}
      {% render 'color-scheme-style', settings: block_settings %}
    {% endif %}
    --horizontal-alignment: {{ block_settings.horizontal_alignment }};
    --vertical-alignment: {{ block_settings.vertical_alignment }};
    --background-overlay-color: {{ block_settings.overlay_color }};
    --collection-card-gap: {{ block_settings.collection_card_gap }}px;
  "
  {{- block.shopify_attributes -}}
>
  <div class="collection-card__inner">
    {{ card_image }}
    <div class="collection-card__content layout-panel-flex--column">
      {{ children }}
    </div>
  </div>
</div>
