{%- doc -%}
  Renders either an SVG icon or an uploaded image based on block settings.

  @param {string} icon - The icon name from block.settings.icon
  @param {string} icon_custom - The icon style from block.settings.icon_custom
  @param {object} svg_upload - The uploaded svg from block.settings.svg_upload
  @param {object} image_upload - The uploaded image from block.settings.image_upload
  @param {number} width - The width setting from block.settings.width
  @param {string} class_name - CSS class name for the rendered element
  @param {object} [attributes] - Additional HTML attributes to add to the element
{%- enddoc -%}

{%- if icon != 'none' and icon_custom == 'none' -%}
  <svg
    class="{{ class_name }}"
    aria-hidden="true"
    focusable="false"
    xmlns="http://www.w3.org/2000/svg"
    width="{{ width }}"
    height="{{ width }}"
    viewBox="0 0 20 20"
    stroke="none"
    fill="currentColor"
    {% if attributes %}
      {{ attributes }}
    {% endif %}
  >
    {%- render 'icon', icon: icon -%}
  </svg>
{%- elsif icon_custom != 'none' -%}
  {%- if icon_custom == 'svg' -%}
    {%- if svg_upload != blank -%}
      {{ svg_upload }}
    {%- endif -%}
  {%- elsif icon_custom == 'image' -%}
    {%- if image_upload != blank -%}
      {% liquid
        assign media_width_desktop = '100vw'
        assign media_width_mobile = '100vw'
        assign sizes = '(min-width: 1025px) 1025px, ' | append: media_width_desktop | append: ', ' | append: media_width_mobile
        assign widths = '300, 375, 450, 525, 600, 675, 750, 768, 850, 900, 1025'
      %}

      {% assign image_style = 'width: ' | append: width | append: 'px;' %}
      {{
        image_upload
        | image_url: width: 1025
        | image_tag: widths: widths, class: class_name, style: image_style, sizes: sizes
      }}
    {%- else -%}
      <div class="placeholder-svg" style="width: {{ width }}px; height: {{ width }}px;">
        {{ 'hero-apparel-2' | placeholder_svg_tag: 'placeholder-svg' }}
      </div>
    {%- endif -%}
  {%- endif -%}
{%- endif -%}